buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
  }
  dependencies {
    classpath "org.sonarqube.gradle:gradle-sonarqube-plugin:1.1"
  }
}

apply plugin: 'org.sonarqube'


sonarqube {
    properties {
	property "sonar.host.url", "http://localhost:9099"
	property "sonar.jdbc.url", "jdbc:h2:tcp://localhost:9095/sonar"
	property "sonar.jdbc.username", "sonar"
	property "sonar.jdbc.password", "sonar"
        property 'sonar.projectName', 'todo'
        property 'sonar.projectDescription', 'A task management application'
    }
}

allprojects {
    apply plugin: 'idea'
    group = 'com.manning.gia'
    version = '0.1'
}

subprojects {
    apply plugin: 'java'
    ext.configDir = new File(rootDir, 'config')

    sonarqube {
        properties {
            property 'sonar.sourceEncoding', 'UTF-8'
        }
    }
    repositories {
        mavenCentral()
    }
}
